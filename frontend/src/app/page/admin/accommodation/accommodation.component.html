<app-navbar></app-navbar>
<main>
    <table tuiTable class="table" [columns]="columns" [style.width.%]="100">
        <thead>
            <tr tuiThGroup></tr>
        </thead>
        <tbody tuiTbody>
            @for(accommodation of accommodations; track accommodation.id) {
            <tr tuiTr>
                <td *tuiCell="'Name'" tuiTd>
                    {{ accommodation.name }}
                </td>
                <td *tuiCell="'Country'" tuiTd>
                    {{ accommodation.country }}
                </td>
                <td *tuiCell="'City'" tuiTd>
                    {{ changeCitySlugToName(accommodation.city) }}
                </td>
                <td *tuiCell="'District'" tuiTd>
                    {{ changeDistrictSlugToName( accommodation.city ,accommodation.district) }}
                </td>
                <td *tuiCell="'Address'" tuiTd>
                    {{ accommodation.address }}
                </td>
                <td *tuiCell="'Image'" tuiTd>
                    <a class="button" target="_blank" [routerLink]="[
                            '/manager/accommodation/',
                            accommodation.id,
                            'images'
                        ]">Quản lý hình ảnh</a>
                </td>
                <td *tuiCell="'Description'" tuiTd>
                    <div #descEl [innerHTML]="getDescription(accommodation.description)"
                        [attr.data-id]="accommodation.id" [class.collapsed]="!showFullMap[accommodation.id]">
                    </div>

                    @if(showButtonStates[accommodation.id]) {
                    <p (click)="toggleDescription(accommodation.id)" class="see-more-button">
                        {{ isDescriptionShown(accommodation.id) ? 'Thu gọn' : 'Xem thêm' }}
                    </p>
                    }
                </td>

                <td *tuiCell="'Rating'" tuiTd>
                    {{ accommodation.rating }}
                </td>
                <td class="text-nowrap" *tuiCell="'Google Map'" tuiTd>
                    {{ accommodation.google_map }}
                </td>

                <td *tuiCell="'Is Verified'" tuiTd>
                    
                </td>
                <td *tuiCell="'Is Deleted'" tuiTd>
                    
                </td>
            </tr>
            }
        </tbody>
    </table>
</main>